(this["webpackJsonpmy-movies-list"]=this["webpackJsonpmy-movies-list"]||[]).push([[0],Array(45).concat([function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i={};s.r(i),s.d(i,"loadState",(function(){return O})),s.d(i,"saveState",(function(){return j})),s.d(i,"clearState",(function(){return b}));var n=s(16),a=s.n(n),c=s(4),o=s(19),l=s(20);s(42),s(82),s(83);const r={apiKey:"AIzaSyA6XUq8nOL2vre9ZU4EJShlxA_MOQqjmN4",authDomain:"mymovieslist-86230.firebaseapp.com",databaseURL:"https://mymovieslist-86230.firebaseio.com",projectId:"mymovieslist-86230",storageBucket:"mymovieslist-86230.appspot.com",messagingSenderId:"137868625948",appId:"1:137868625948:web:1409fc04a3064b5cb937d9",measurementId:"G-QEHSQDNN70"};var u=new class{constructor(){this.signInWithEmail=(e,t)=>this.auth.signInWithEmailAndPassword(e,t),this.signUpWithEmail=(e,t)=>this.auth.createUserWithEmailAndPassword(e,t),this.signInWithGoogle=()=>l.a.auth().signInWithPopup(new l.a.auth.GoogleAuthProvider),this.signOut=()=>this.auth.signOut(),this.addItem=(e,t,s=this.dataCollection)=>this.db.collection(this.rootCollection).doc(e).collection(s).doc(t.id).set(t),this.updateItem=(e,t,s=this.dataCollection)=>this.db.collection(this.rootCollection).doc(e).collection(s).doc(t.id).set(t,{merge:!0}),this.removeItem=(e,t,s=this.dataCollection)=>this.db.collection(this.rootCollection).doc(e).collection(s).doc(t).delete(),this.getItems=(e,t=this.dataCollection)=>this.db.collection(this.rootCollection).doc(e).collection(t).get(),this.getSettings=e=>this.db.collection(this.rootCollection).doc(e).collection(this.settingsCollection).doc(this.commonSettingsDoc).get(),this.updateSettings=(e,t)=>this.db.collection(this.rootCollection).doc(e).collection(this.settingsCollection).doc(this.commonSettingsDoc).set(t,{merge:!0}),this.removeList=(e,t)=>this.db.collection(this.rootCollection).doc(e).collection(this.dataCollection).where("lists","array-contains",t).get().then((e=>{const s=this.db.batch();return e.forEach((e=>{const i=e.data().lists.filter((e=>e!==t));i.length>0?s.update(e.ref,{lists:i}):s.delete(e.ref)})),s.commit()})),l.a.initializeApp(r),this.auth=l.a.auth(),this.db=l.a.firestore(),this.rootCollection="data",this.dataCollection="movies",this.settingsCollection="settings",this.commonSettingsDoc="common"}};var d=new class{constructor(e){this.searchMovie=e=>fetch("".concat(this.baseUrl,"&s=").concat(e)).then((e=>e.json())).then((e=>e)),this.getMovieInfo=e=>fetch("".concat(this.baseUrl,"&i=").concat(e)).then((e=>e.json())).then((e=>e)),this.apiKey=e,this.baseUrl="https://www.omdbapi.com/?apikey=".concat(this.apiKey)}}("c1b17339");const m="MyMoviesList",O=()=>{try{const e=localStorage.getItem(m);if(null===e)return;return JSON.parse(e)}catch(e){return}},j=e=>{try{const t=JSON.stringify(e);localStorage.setItem(m,t)}catch{}},b=()=>{localStorage.removeItem(m)},h=u;var _=s(31);function p(e,t,s="asc"){return[...e.sort(((e,i)=>{const n=e[t].toUpperCase(),a=i[t].toUpperCase();return n<a?"asc"===s?-1:1:n>a?"asc"===s?1:-1:0}))]}const E="ADD_ITEM",C="UPDATE_ITEM",T="REMOVE_ITEM",S="GET_ITEMS",N="SORT_MOVIES",x="REMOVE_LIST",f="SEARCH_MOVIE",g="GET_MOVIE_INFO",v="SIGN_IN",I="SIGN_OUT",y="GET_SETTINGS",A="UPDATE_SETTINGS",R="SHOW_NOTIFICATION",L="HIDE_NOTIFICATION",D="API_REQUEST_STARTED",U="API_REQUEST_ENDED",k="DB_REQUEST_STARTED",w="DB_REQUEST_ENDED",G="SHOW_MODAL",Y="HIDE_MODAL",M=[],H={data:{},isLoading:!1},P=[],W={uid:null,isLogged:!1},V={error:"",isLoading:!1},F={language:"en",theme:"light",userLists:[]},B={auth:{isVisible:!1,data:null},fav:{isVisible:!1,data:null}},q={type:"",message:""};var Z=Object(o.c)({data:(e=M,t)=>{const{type:s,payload:i}=t;switch(s){case E:return[...e,i];case C:return e.filter((e=>e.id===i.id)).length?e.map((e=>e.id===i.id?{...e,...i}:e)):[...e,i];case T:return e.filter((e=>e.id!==i));case x:return[...e.filter((e=>!e.lists.includes(i))),...e.filter((e=>e.lists.includes(i))).map((e=>({...e,lists:e.lists.filter((e=>e!==i))}))).filter((e=>e.lists.length>0))];case S:return[...i];case N:switch(i){case"title-asc":return p(e,"Title","asc");case"title-dsc":return p(e,"Title","dsc");case"year-asc":return p(e,"Year","asc");case"year-dsc":return p(e,"Year","dsc");default:return e}case I:return M;default:return e}},movieInfo:(e=H,t)=>{const{type:s,payload:i}=t;switch(s){case g:return{...e,data:i};case D:return{...e,isLoading:!0};case U:return{...e,isLoading:!1};case I:return H;default:return e}},searchResults:(e=P,t)=>{const{type:s,payload:i}=t;switch(s){case f:return[...i];case I:return P;default:return e}},user:(e=W,t)=>{switch(t.type){case v:return{uid:t.payload.uid,email:t.payload.email,isLogged:!0};case I:return W;default:return e}},settings:(e=F,t)=>{const{type:s,payload:i}=t;switch(s){case y:case A:return{...e,...i};case I:return F;default:return e}},api:(e=V,t)=>{const{type:s}=t;switch(s){case D:return{...e,isLoading:!0};case U:return{...e,isLoading:!1};case I:return V;default:return e}},modals:(e=B,t)=>{const{type:s,payload:i}=t;switch(s){case G:return{...e,[i.modalName]:{isVisible:!0,data:i.data}};case Y:return{...e,[i]:{isVisible:!1}};case I:return B;default:return e}},notifications:(e=q,t)=>{switch(t.type){case R:return{...e,type:t.payload.type,message:t.payload.message};case L:case I:return q;default:return e}}});const z=i.loadState(),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,X=Object(o.e)(Z,z,Q(Object(o.a)(_.a)));X.subscribe((()=>{const{data:e,user:t,settings:s}=X.getState();i.saveState({data:e,user:t,settings:s})}));var J=X,K=(s(45),s(1));const $=e=>{const{onClick:t,extraClassName:s,type:i,btnType:n,size:a,text:c}=e,o="ui-button ui-button--".concat(n," ui-button--").concat(a," ").concat(s);return Object(K.jsx)("button",{type:i,className:o,onClick:t,children:c})};$.defaultProps={extraClassName:"",onClick:null,size:"normal",type:"button",btnType:"default",text:"Some Text"};s(47);s(48);const ee=e=>{const{icon:t,onClick:s,extraClassName:i,title:n,type:a}=e,c=i?"ui-icon-button icon-".concat(t," ").concat(i):"ui-icon-button icon-".concat(t);return Object(K.jsx)("button",{type:a,className:c,onClick:s,title:n,children:Object(K.jsx)("span",{className:"ui-icon-button__text",children:n})})};ee.defaultProps={icon:"",extraClassName:"",title:"Click me",onClick:null,type:"button"};s(49);const te=e=>{const{type:t,name:s,value:i,onChange:n,extraClassName:a,placeholder:c,required:o,autofocus:l,disabled:r}=e,u=a?"ui-input ".concat(a):"ui-input";return Object(K.jsx)("input",{type:t,name:s,value:i,className:u,onChange:n,placeholder:c,required:o,autoFocus:l,disabled:r,size:i.length})};te.defaultProps={extraClassName:"",onChange:null,value:"",type:"text",name:"ui-input",placeholder:"",required:!1,autofocus:!1,disabled:!1};s(50);const se=e=>{const{value:t,onChange:s,options:i,extraClassName:n,title:a,required:c}=e,o=n?"ui-select ".concat(n):"ui-select";return Object(K.jsx)("select",{onChange:s,value:t,required:c,className:o,title:a,children:i.map((e=>Object(K.jsx)("option",{value:e.value,disabled:e.disabled,className:"ui-select__option",children:e.label},e.value)))})};se.defaultProps={extraClassName:"",onChange:null,value:"",title:"Select me",options:[{value:"opt1",label:"Option 1"},{value:"opt2",label:"Option 2"},{value:"opt3",label:"Option 3"}],required:!1};var ie=s(2),ne=s.n(ie);s(51);const ae=e=>{const{extraClassName:t,labels:s,children:i,activeTab:n,onTabClick:a}=e,c="ui-tabs ".concat(t),[o,l]=Object(ie.useState)(n);function r(e){l(s.indexOf(e.target.value)),a&&a()}function u(e){return e===o?"ui-tabs__item ui-tabs__item--active":"ui-tabs__item"}return Object(K.jsxs)("div",{className:c,children:[Object(K.jsx)("ol",{className:"ui-tabs__list",children:s.map(((e,t)=>Object(K.jsx)("li",{className:u(t),children:Object(K.jsx)("input",{className:"ui-tabs__btn",type:"button",onClick:r,value:e})},e)))}),Object(K.jsx)("div",{className:"ui-tabs__content",children:i.map(((e,t)=>t!==o?null:e))})]})};ae.defaultProps={extraClassName:"",activeTab:0,labels:[],children:null,onTabClick:null};var ce=s(23);const oe=e=>e.data,le=e=>e.user.isLogged,re=e=>e.user.uid,ue=e=>e.modals.auth.isVisible,de=e=>e.modals.fav.isVisible,me=e=>e.settings.language,Oe=e=>e.settings.theme,je=e=>e.settings.userLists,be=e=>e.searchResults,he=e=>e.movieInfo,_e=e=>e.notifications,pe=(e,t)=>e.find((e=>e.imdbID===t)),Ee=Object(ce.a)(oe,((e,t)=>t),pe),Ce=Object(ce.a)(be,((e,t)=>t),pe),Te=Object(ce.a)(oe,((e,t)=>t),((e,t)=>e.filter((e=>null===e||void 0===e?void 0:e.lists.includes(t))))),Se=[{value:"en",label:"EN"},{value:"ua",label:"UA"},{value:"ru",label:"RU"}],Ne={en:{SIGN_IN:"Sign In",SIGN_UP:"Sign Up",SIGN_OUT:"Sign Out",SEARCH_MOVIE:"Search",SEARCH_MOVIE_PLACEHOLDER:"Enter movie title",AUTHENIFICATION:"Authenification",YOUR_EMAIL:"Your email",YOUR_PASSWORD:"Your password",CREATE_AN_ACCOUNT:"Create an Account",CONNECT_WITH:"or connect with",TOGGLE_THEME:"Change theme",TOGGLE_LANGUAGE:"Change language",MOVIE_INFO:"Movie info",HOME:"Home",FAVOURITES:"Favourites",WATCH_LATER:"Watch later",WATCHED:"Watched",GENRE:"Genre",CAST:"Cast",DIRECTOR:"Director",COUNTRY:"Country",DURATION:"Duration",RELEASE:"Release",RATING:"Rating",CLOSE:"Close",SORT_MOVIES:"Sort",SORT_BY_TITLE_A_Z:"Title A-Z",SORT_BY_TITLE_Z_A:"Title Z-A",SORT_BY_YEAR_ASC:"Year \u2191",SORT_BY_YEAR_DSC:"Year \u2193",ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_LIST:"Are you sure you want to delete this list?",EDIT_LIST:"Edit list",SAVE_CHANGES:"Save changes",DELETE_LIST:"Delete list",NEW_LIST:"New list",ADD:"Add",EXPAND:"Expand",COLLAPSE:"Collapse"},ua:{SIGN_IN:"\u0423\u0432\u0456\u0439\u0442\u0438",SIGN_UP:"\u0417\u0430\u0440\u0435\u0454\u0441\u0442\u0440\u0443\u0432\u0430\u0442\u0438\u0441\u044c",SIGN_OUT:"\u0412\u0438\u0439\u0442\u0438",SEARCH_MOVIE:"\u0428\u0443\u043a\u0430\u0442\u0438",SEARCH_MOVIE_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0430",AUTHENIFICATION:"\u0410\u0443\u0442\u0435\u043d\u0456\u0444\u0456\u043a\u0430\u0446\u0456\u044f",YOUR_EMAIL:"\u0412\u0430\u0448 email",YOUR_PASSWORD:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",CREATE_AN_ACCOUNT:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438 \u043e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441",CONNECT_WITH:"\u0430\u0431\u043e \u0443\u0432\u0456\u0439\u0442\u0438 \u0437\u0430 \u0434\u043e\u043f\u043e\u043c\u043e\u0433\u043e\u044e",TOGGLE_THEME:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0442\u0435\u043c\u0443",TOGGLE_LANGUAGE:"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u043c\u043e\u0432\u0443",MOVIE_INFO:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u0444\u0456\u043b\u044c\u043c",HOME:"\u0413\u043e\u043b\u043e\u0432\u043d\u0430",FAVOURITES:"\u0423\u043b\u044e\u0431\u043b\u0435\u043d\u0435",WATCH_LATER:"\u0414\u0438\u0432\u0438\u0442\u0438\u0441\u044c \u043f\u0456\u0437\u043d\u0456\u0448\u0435",WATCHED:"\u041f\u0435\u0440\u0435\u0433\u043b\u044f\u043d\u0443\u0442\u0435",GENRE:"\u0416\u0430\u043d\u0440",CAST:"\u0423 \u0440\u043e\u043b\u044f\u0445",DIRECTOR:"\u0420\u0435\u0436\u0438\u0441\u0435\u0440",COUNTRY:"\u041a\u0440\u0430\u0457\u043d\u0430",DURATION:"\u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c",RELEASE:"\u0420\u0456\u043a",RATING:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",CLOSE:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",SORT_MOVIES:"\u0421\u043e\u0440\u0442\u0443\u0432\u0430\u0442\u0438",SORT_BY_TITLE_A_Z:"\u041d\u0430\u0437\u0432\u0430 \u0410-\u042f",SORT_BY_TITLE_Z_A:"\u041d\u0430\u0437\u0432\u0430 \u042f-\u0410",SORT_BY_YEAR_ASC:"\u0420\u0456\u043a \u2191",SORT_BY_YEAR_DSC:"\u0420\u0456\u043a \u2193",ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_LIST:"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0441\u043f\u0438\u0441\u043e\u043a?",EDIT_LIST:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",SAVE_CHANGES:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438",DELETE_LIST:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0441\u043f\u0438\u0441\u043e\u043a",NEW_LIST:"\u041d\u043e\u0432\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",ADD:"\u0414\u043e\u0434\u0430\u0442\u0438",EXPAND:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u0438",COLLAPSE:"\u0421\u0445\u043e\u0432\u0430\u0442\u0438"},ru:{SIGN_IN:"\u0412\u043e\u0439\u0442\u0438",SIGN_UP:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",SIGN_OUT:"\u0412\u044b\u0439\u0442\u0438",SEARCH_MOVIE:"\u0418\u0441\u043a\u0430\u0442\u044c",SEARCH_MOVIE_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",AUTHENIFICATION:"\u0410\u0443\u0442\u0435\u043d\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f",YOUR_EMAIL:"\u0412\u0430\u0448 email",YOUR_PASSWORD:"\u0412\u0430\u0448 \u043f\u0430\u0440\u043e\u043b\u044c",CREATE_AN_ACCOUNT:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c",CONNECT_WITH:"\u0438\u043b\u0438 \u0432\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e",TOGGLE_THEME:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443",TOGGLE_LANGUAGE:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u044f\u0437\u044b\u043a",MOVIE_INFO:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0438\u043b\u044c\u043c\u0435",HOME:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",FAVOURITES:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",WATCH_LATER:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0437\u0436\u0435",WATCHED:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u043e\u0435",GENRE:"\u0416\u0430\u043d\u0440",CAST:"\u0412 \u0440\u043e\u043b\u044f\u0445",DIRECTOR:"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440",COUNTRY:"\u0421\u0442\u0440\u0430\u043d\u0430",DURATION:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c",RELEASE:"\u0413\u043e\u0434",RATING:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",CLOSE:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",SORT_MOVIES:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",SORT_BY_TITLE_A_Z:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0410-\u042f",SORT_BY_TITLE_Z_A:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u042f-\u0410",SORT_BY_YEAR_ASC:"\u0413\u043e\u0434 \u2191",SORT_BY_YEAR_DSC:"\u0413\u043e\u0434 \u2193",ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_LIST:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043f\u0438\u0441\u043e\u043a?",EDIT_LIST:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",SAVE_CHANGES:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",DELETE_LIST:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a",NEW_LIST:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",ADD:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",EXPAND:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",COLLAPSE:"\u0421\u043a\u0440\u044b\u0442\u044c"}},xe=Object(ie.createContext)();xe.displayName="Localization";const fe=({children:e})=>{const t=Object(c.c)(me);return Object(K.jsx)(xe.Provider,{value:(s=t,Ne[s]),children:e});var s};s(52);const ge=({title:e,isVisible:t,onClose:s,children:i,extraClassName:a})=>{const c=Object(ie.useContext)(xe),o=a?"ui-modal ".concat(a):"ui-modal",l=document.getElementById("modal-root");var r,u;return r="Escape",u=s,Object(ie.useEffect)((()=>{function e(e){e.key===r&&u()}return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[]),t&&Object(n.createPortal)(Object(K.jsx)("div",{className:"ui-modal__backdrop",children:Object(K.jsxs)("div",{role:"dialog","aria-labelledby":"ui-modal-title","aria-modal":"true",className:o,children:[Object(K.jsxs)("div",{className:"ui-modal__header",children:[Object(K.jsx)("h4",{id:"ui-modal-title",className:"ui-modal__title",children:e}),Object(K.jsx)(ee,{extraClassName:"ui-modal__btn-close",icon:"cancel",onClick:s,title:c.CLOSE})]}),Object(K.jsx)("div",{className:"ui-modal__content",children:i})]})}),l)};ge.defaultProps={title:"Modal title",isVisible:!1};s(53);s(54);const ve={error:"Error",warning:"Warning",success:"Succes"},Ie=e=>{const{message:t,type:s,extraClassName:i,isVisible:a,onCloseClick:c,autoclose:o}=e,l=document.getElementById("modal-root");let r="ui-notification";s&&(r+=" ui-notification--".concat(s)),i&&(r+=" ".concat(i));const u=o&&a?setTimeout((()=>c()),3e3):null;return a?Object(n.createPortal)(Object(K.jsxs)("div",{className:r,children:[Object(K.jsxs)("main",{className:"ui-notification__content",children:[ve[s]&&Object(K.jsx)("h4",{className:"ui-notification__title",children:ve[s]}),Object(K.jsx)("span",{className:"ui-notification__message",children:t})]}),Object(K.jsx)(ee,{icon:"cancel",onClick:function(){clearTimeout(u),c()},title:"Close",extraClassName:"ui-notification__close-btn"})]}),l):null};Ie.defaultProps={message:"Info message",type:"info",extraClassName:"",isVisible:!1,onCloseClick:null,autoclose:!0};s(55);const ye=({children:e,onToggle:t,extraClassName:s,isOpened:i})=>{const n=i?"cancel":"ellipsis-vert",a=s?"ui-dropdown ".concat(s):"ui-dropdown";return Object(K.jsxs)("div",{className:a,children:[Object(K.jsx)(ee,{onClick:t,icon:n,extraClassName:"ui-dropdown__toggler"}),i&&Object(K.jsx)("div",{className:"ui-dropdown__container",children:e})]})};ye.defaultProps={extraClassName:"",children:null};s(56);class Ae extends ne.a.Component{constructor(...e){super(...e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t})}render(){const{errorInfo:e,error:t}=this.state;return e?Object(K.jsxs)("div",{className:"error-boundary",children:[Object(K.jsx)("h2",{className:"error-boundary__title",children:"Sorry. Something went wrong :("}),Object(K.jsx)("div",{className:"error-boundary__details",children:Object(K.jsxs)("p",{children:[t&&Object(K.jsx)("strong",{children:t.toString()}),Object(K.jsx)("br",{}),e.componentStack]})})]}):this.props.children}}var Re=s(18);s(57);const Le=({route:e,icon:t,title:s})=>Object(K.jsx)("li",{children:Object(K.jsx)(Re.c,{to:e,exact:!0,className:"nav-links-item icon-".concat(t),title:s,children:s})});Le.defaultProps={route:"",icon:"menu",title:"MyList"};s(61);const De=({data:e})=>Object(K.jsx)("ul",{className:"nav-links",children:e.map((e=>Object(K.jsx)(Le,{route:e.id,title:e.title,icon:e.icon},e.id)))});De.defaultProps={data:[]};s(62);const Ue=()=>{const e=Object(ie.useContext)(xe),[t,s]=Object(ie.useState)(!1),i=Object(c.c)(je),n=[{id:"/",title:e.HOME,icon:"home"},{id:"favourites",title:e.FAVOURITES,icon:"heart"},{id:"watched",title:e.WATCHED,icon:"history"},{id:"watch-later",title:e.WATCH_LATER,icon:"clock"}],a=t?"nav":"nav nav--collapsed";return Object(K.jsx)("nav",{className:a,children:Object(K.jsxs)("div",{className:"nav__content",children:[Object(K.jsx)(De,{data:[...n,...i]}),Object(K.jsx)(ee,{icon:t?"left-open":"right-open",onClick:function(){s(!t)},title:t?e.COLLAPSE:e.EXPAND,extraClassName:"nav__toggler"})]})})};s(63);const ke=({children:e})=>Object(K.jsx)("main",{className:"main",children:Object(K.jsx)("div",{className:"main__content",children:e})});s(64);const we=()=>Object(K.jsx)("header",{className:"header",children:Object(K.jsxs)("div",{className:"header__content",children:[Object(K.jsx)(Re.b,{to:"/",className:"header__logo",children:"MyMoviesList"}),Object(K.jsx)(Qe,{}),Object(K.jsxs)("div",{className:"header__menu",children:[Object(K.jsx)(lt,{}),Object(K.jsx)(rt,{}),Object(K.jsx)(ut,{})]})]})});var Ge=s(7);function Ye(e){return{title:e.Title||"",type:e.Type,year:e.Year,genre:e.Genre||"",imdbID:e.imdbID,poster:e.Poster,actors:e.Actors||"",director:e.Director||"",country:e.Country||"",duration:e.Duration||"",release:e.Release||"",imdbRating:e.imdbRating||"",runtime:e.Runtime||"",plot:e.Plot||""}}function Me(e){return{type:R,payload:{type:"error",message:e}}}function He(e){return{type:x,payload:e}}const Pe=e=>t=>{t({type:D}),d.searchMovie(e).then((e=>{(null===e||void 0===e?void 0:e.Search)?t(function(e){return{type:f,payload:e.map((e=>Ye(e)))}}(e.Search)):t(Me(e.Error))})).catch((e=>t(Me(e.message)))).finally((()=>t({type:U})))},We=e=>t=>{t({type:D}),d.getMovieInfo(e).then((e=>{t(e?function(e){return{type:g,payload:Ye(e)}}(e):Me(e.Error))})).catch((e=>t(Me(e.message)))).finally((()=>t({type:U})))};function Ve(e){return{type:R,payload:{type:"error",message:e}}}function Fe(e){return{type:v,payload:{uid:e.user.uid,email:e.user.email}}}function Be(e){return{type:R,payload:{type:"error",message:e}}}const qe=(e,t)=>s=>{e?(s({type:k}),h.updateSettings(e,t).then((()=>s({type:A,payload:t}))).catch((e=>s(Be(e.message)))).finally((()=>s({type:w})))):s({type:A,payload:t})},Ze=e=>({type:G,payload:e}),ze=e=>({type:Y,payload:e});s(65);const Qe=ne.a.memo((()=>{const e=Object(ie.useContext)(xe),t=Object(c.b)(),s=Object(Ge.d)(),[i,n]=Object(ie.useState)(""),[a,o]=Object(ie.useState)(!1);function l(e){i&&(e.preventDefault(),t(Pe(i)),s.push("/"))}function r(){o(!a)}return Object(K.jsxs)("div",{className:"search-movie-form-container".concat(a?" visible":""),children:[Object(K.jsx)(ee,{icon:"left-open",extraClassName:"search-movie-form__btn-hide",onClick:r}),Object(K.jsxs)("form",{className:"search-movie-form",onSubmit:l,children:[Object(K.jsx)(te,{type:"search",value:i,onChange:function(e){n(e.target.value)},extraClassName:"search-movie-form__input",placeholder:e.SEARCH_MOVIE_PLACEHOLDER,required:!0}),Object(K.jsx)(ee,{type:"submit",icon:"search",title:e.SEARCH_MOVIE,extraClassName:"search-movie-form__btn",onClick:l})]}),Object(K.jsx)(ee,{icon:"search",extraClassName:"search-movie-form__btn-show",onClick:r})]})}));s(66);const Xe=({title:e,isUserList:t,onSaveClick:s,onDeleteClick:i,STR:n})=>{const[a,c]=Object(ie.useState)(e),[o,l]=Object(ie.useState)(e),[r,u]=Object(ie.useState)(!1);return Object(ie.useEffect)((()=>{c(e),l(e)}),[e]),Object(K.jsxs)("div",{className:"movie-list-title",children:[Object(K.jsx)(te,{value:a,onChange:function(e){c(e.target.value)},disabled:!r,extraClassName:"movie-list-title__input"}),t&&Object(K.jsxs)(K.Fragment,{children:[!r&&Object(K.jsx)(ee,{icon:"pencil",title:n.EDIT_LIST,onClick:function(){u(!r)}}),r&&Object(K.jsx)(ee,{icon:"ok",title:n.SAVE_CHANGES,onClick:function(){a!==o&&s(a),u(!1)}}),r&&Object(K.jsx)(ee,{icon:"trash",title:n.DELETE_LIST,onClick:function(){window.confirm(n.ARE_YOU_SURE_YOU_WANT_TO_DELETE_THIS_LIST)&&(u(!1),i())}})]})]})};s(67);const Je=()=>{var e;const t=Object(ie.useContext)(xe),s=Object(c.b)(),[i,n]=Object(ie.useState)("none"),a=[{value:"none",label:"\u2014 \u2014 \u2014",disabled:!0},{value:"title-asc",label:t.SORT_BY_TITLE_A_Z},{value:"title-dsc",label:t.SORT_BY_TITLE_Z_A},{value:"year-asc",label:t.SORT_BY_YEAR_ASC},{value:"year-dsc",label:t.SORT_BY_YEAR_DSC}],o=[{id:"favourites",title:t.FAVOURITES,icon:"heart"},{id:"watched",title:t.WATCHED,icon:"history"},{id:"watch-later",title:t.WATCH_LATER,icon:"clock"}],l=Object(c.c)(je),r=Object(c.c)(re),u=[...o,...l],d=Object(Ge.d)(),m=Object(Ge.e)().pathname.slice(1),O=l.some((e=>e.id===m)),j=(null===(e=u.find((e=>e.id===m)))||void 0===e?void 0:e.title)||t.HOME,b=m?Object(c.c)((e=>Te(e,m))):Object(c.c)(be);function _(e){s(We(e)),s(Ze({modalName:"fav"}))}return Object(K.jsxs)("section",{className:"movie-list-container",children:[Object(K.jsx)(Xe,{title:j,onSaveClick:function(e){const t=l.map((t=>t.id===m?{...t,title:e}:t));s(qe(r,{userLists:t}))},onDeleteClick:function(){const e=l.filter((e=>e.id!==m));s(qe(r,{userLists:e})),s(((e,t)=>s=>{e?(s({type:k}),h.removeList(e,t).then((()=>s(He(t)))).catch((e=>s(Me(e.message)))).finally((()=>s({type:w})))):s(He(t))})(r,m)),d.push("/")},isUserList:O,STR:t}),b.length>0&&m&&Object(K.jsx)($e,{options:a,onChange:function(e){const t=e.target.value;s((e=>({type:N,payload:e}))(t)),n(t)},title:t.SORT_MOVIES,value:i}),Object(K.jsx)("ul",{className:"movie-list",children:b.map((e=>Object(K.jsx)(Ke,{data:e,onShowInfoClick:_},e.imdbID)))}),Object(K.jsx)(tt,{})]})};s(68);const Ke=ne.a.memo((e=>{const{data:{title:t,poster:s,year:i,imdbID:n},onShowInfoClick:a}=e;return Object(K.jsxs)("li",{id:n,className:"movie-list-item",children:[Object(K.jsx)(ot,{id:n}),Object(K.jsx)("img",{src:s,alt:"Poster",width:"320",height:"480",className:"movie-list-item__poster",onClick:function(){a(n)},loading:"lazy"}),Object(K.jsxs)("div",{className:"movie-list-item__details",children:[Object(K.jsx)("span",{className:"movie-list-item__title",children:t}),Object(K.jsx)("span",{className:"movie-list-item__year",children:i})]})]})}));s(69);const $e=e=>{const{onChange:t,value:s,options:i,title:n}=e;return Object(K.jsxs)("div",{className:"movie-list-sorter",children:[Object(K.jsx)("span",{className:"movie-list-sorter__label",children:n}),Object(K.jsx)(se,{options:i,onChange:t,value:s,title:n,extraClassName:"movie-list-sorter__select"})]})};$e.defaultProps={title:""};s(70);const et=()=>Object(K.jsxs)("div",{className:"movie-modal-skeleton",children:[Object(K.jsx)("div",{className:"movie-modal-skeleton__poster skeleton"}),Object(K.jsxs)("div",{className:"movie-modal-skeleton__details",children:[Object(K.jsx)("div",{className:"movie-modal-skeleton__title skeleton"}),Object(K.jsx)("div",{className:"movie-modal-skeleton__plot skeleton"}),Object(K.jsx)("div",{className:"movie-modal-skeleton__info skeleton"})]})]});s(71);const tt=()=>{const e=Object(c.c)(de),{isLoading:t,data:{title:s,year:i,poster:n,runtime:a,genre:o,director:l,country:r,plot:u,imdbRating:d,actors:m,imdbID:O}}=Object(c.c)(he),j=Object(c.b)(),b=Object(ie.useContext)(xe);return e?Object(K.jsx)(ge,{isVisible:e,onClose:function(){j(ze("fav"))},title:b.MOVIE_INFO,extraClassName:"movie-modal",children:t?Object(K.jsx)(et,{}):Object(K.jsxs)("div",{className:"movie-modal__content",children:[Object(K.jsxs)("div",{className:"movie-modal__poster",children:[Object(K.jsx)("img",{src:n,alt:"Poster",width:"240",height:"350"}),Object(K.jsx)(ot,{id:O})]}),Object(K.jsxs)("div",{className:"movie-modal__details",children:[Object(K.jsx)("h4",{className:"movie-modal__title",children:s}),Object(K.jsx)("p",{className:"movie-modal__plot",children:u}),Object(K.jsxs)("ul",{className:"movie-modal__info",children:[Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.GENRE,":"]}),o]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.CAST,":"]}),m]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.DIRECTOR,":"]}),l]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.COUNTRY,":"]}),r]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.DURATION,":"]}),a]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.RELEASE,":"]}),i]}),Object(K.jsxs)("li",{children:[Object(K.jsxs)("strong",{children:[b.RATING,":"]}),d]})]})]})]})}):null};tt.defaultProps={STR:{MOVIE_INFO:"Movie info"}};var st=s(85);s(72);const it=({list:e,onClick:t,checked:s,title:i})=>Object(K.jsx)("li",{className:"movie-menu-item",children:Object(K.jsxs)("label",{htmlFor:e,children:[Object(K.jsx)("input",{type:"checkbox",id:e,value:e,onChange:t,checked:s}),i]})});it.defaultProps={list:"",onClick:null,checked:!1,title:""};var nt=s(17),at=s.n(nt);s(73);const ct=({onSubmit:e,STR:t})=>{const[s,i]=Object(ie.useState)("");return Object(K.jsxs)("form",{className:"movie-menu-form",onSubmit:function(t){t.preventDefault(),e(s),i("")},children:[Object(K.jsx)(te,{type:"text",value:s,onChange:function(e){i(e.target.value)},extraClassName:"movie-menu-form__input",placeholder:t.NEW_LIST,required:!0}),Object(K.jsx)(ee,{type:"submit",icon:"plus",title:t.ADD,extraClassName:"movie-menu-form__btn"})]})};ct.defaultProps={onSubmit:null,STR:at.a.shape({NEW_LIST:"New list",ADD:"Add"})};s(74);const ot=({id:e})=>{const t=Object(c.b)(),s=Object(c.c)(re),i=Object(c.c)((t=>Ee(t,e))),n=Object(c.c)((t=>Ce(t,e))),a=Object(c.c)(je),o=Object(ie.useContext)(xe),l=[{id:"favourites",title:o.FAVOURITES},{id:"watched",title:o.WATCHED},{id:"watch-later",title:o.WATCH_LATER}],[r,u]=Object(ie.useState)(!1),d=i||n,m=(null===d||void 0===d?void 0:d.lists)?d.lists:[];function O(i){const n=i.target.value,a=m.includes(n)?m.filter((e=>e!==n)):[...m,n];a.length?t(((e,t)=>s=>{e?(s({type:k}),h.updateItem(e,t).then((()=>s({type:C,payload:t}))).catch((e=>s(Me(e.message)))).finally((()=>s({type:w})))):s({type:C,payload:t})})(s,{...d,id:e,lists:a})):t(((e,t)=>s=>{e?(s({type:k}),h.removeItem(e,t).then((()=>s({type:T,payload:t}))).catch((e=>s(Me(e.message)))).finally((()=>s({type:w})))):s({type:T,payload:t})})(s,e)),u(!1)}return Object(K.jsxs)(ye,{isOpened:r,onToggle:function(){u(!r)},extraClassName:"movie-menu",children:[Object(K.jsx)("ul",{className:"movie-menu__items",children:[...l,...a].map((e=>Object(K.jsx)(it,{list:e.id,checked:m.includes(e.id),title:e.title,onClick:O},e.id)))}),Object(K.jsx)(ct,{onSubmit:function(e){const i=[...a,{id:Object(st.a)(),title:e}];t(qe(s,{userLists:i}))},STR:o})]})};s(75);const lt=()=>{const e=Object(c.b)(),t=Object(ie.useContext)(xe),s=Object(c.c)(me),i=Object(c.c)(re);return Object(K.jsx)(se,{value:s,onChange:function(t){const s=t.target.value;e(qe(i,{language:s}))},options:Se,extraClassName:"language-selector",title:t.TOGGLE_LANGUAGE})},rt=()=>{const e=Object(ie.useContext)(xe),t=Object(c.b)(),s=Object(c.c)(Oe),i=Object(c.c)(re),n="light"===s?"moon":"sun";return Object(K.jsx)(ee,{icon:n,onClick:function(){t(qe(i,{theme:"light"===s?"dark":"light"}))},title:e.TOGGLE_THEME})},ut=()=>{const e=Object(ie.useContext)(xe),t=Object(c.b)(),s=Object(c.c)(le);return Object(K.jsx)(ee,{icon:s?"user":"user-o",title:s?e.SIGN_OUT:e.SIGN_IN,onClick:function(){t(s?e=>{e({type:k}),h.signOut().then((()=>e({type:I}))).then((()=>i.clearState())).catch((t=>e(Ve(t.message)))).finally((()=>e({type:w})))}:Ze({modalName:"auth",data:null}))}})};s(76);const dt=e=>{const{onSubmit:t,onChange:s,data:{email:i,password:n},STR:a}=e;return Object(K.jsxs)("form",{onSubmit:t,className:"signin-form",children:[Object(K.jsx)(te,{type:"email",name:"email",value:i,extraClassName:"signin-form__input",placeholder:a.YOUR_EMAIL,onChange:s,autofocus:!0,required:!0}),Object(K.jsx)(te,{type:"password",name:"password",extraClassName:"signin-form__input",value:n,placeholder:a.YOUR_PASSWORD,onChange:s,required:!0}),Object(K.jsx)("div",{className:"signin-form__btns",children:Object(K.jsx)($,{type:"submit",btnType:"primary",text:a.SIGN_IN,onClick:t})})]})};dt.defaultProps={STR:{YOUR_EMAIL:"Your Email",YOUR_PASSWORD:"Your password",SIGN_IN:"Sign In"}};s(77);const mt=e=>{const{onSubmit:t,onChange:s,data:{email:i,password:n},STR:a}=e;return Object(K.jsxs)("form",{onSubmit:t,className:"signup-form",children:[Object(K.jsx)(te,{type:"email",name:"email",value:i,extraClassName:"signup-form__input",placeholder:a.YOUR_EMAIL,onChange:s,required:!0}),Object(K.jsx)(te,{type:"password",name:"password",value:n,extraClassName:"signup-form__input",placeholder:a.YOUR_PASSWORD,onChange:s,required:!0}),Object(K.jsx)("div",{className:"signup-form__btns",children:Object(K.jsx)($,{type:"submit",btnType:"primary",text:a.CREATE_AN_ACCOUNT,onClick:t})})]})};mt.defaultProps={STR:{YOUR_EMAIL:"Your Email",YOUR_PASSWORD:"Your password",CREATE_AN_ACCOUNT:"Create an account"}};s(78);const Ot=e=>{const{onSignInWithGoogle:t,STR:s}=e;return Object(K.jsxs)("div",{className:"social-login",children:[Object(K.jsx)("div",{className:"social-login__label",children:s.CONNECT_WITH}),Object(K.jsx)("div",{className:"social-login__btns",children:Object(K.jsx)(ee,{icon:"google",onClick:t,extraClassName:"social-login__btn"})})]})};Ot.defaultProps={STR:{CONNECT_WITH:"or connect with"}};s(79);const jt=()=>{const e=Object(ie.useContext)(xe),t=Object(c.b)(),s=Object(c.c)(le),i=Object(c.c)(ue),n={email:"",password:""},[a,o]=Object(ie.useState)(n);function l(e){const{name:t,value:s}=e.target;o({...a,[t]:s})}return Object(ie.useEffect)((()=>{s&&(o(n),t(ze("auth")))}),[s]),i?Object(K.jsxs)(ge,{isVisible:i,onClose:function(){o(n),t(ze("auth"))},title:e.AUTHENIFICATION,children:[Object(K.jsxs)(ae,{labels:[e.SIGN_IN,e.SIGN_UP],extraClassName:"auth-form__tabs",onTabClick:function(){o(n)},children:[Object(K.jsx)(dt,{onSubmit:function(e){var s,i;a.email&&a.password&&(e.preventDefault(),t((s=a.email,i=a.password,e=>{e({type:k}),h.signInWithEmail(s,i).then((t=>e(Fe(t)))).catch((t=>e(Ve(t.message)))).finally((()=>e({type:w})))})))},onChange:l,data:a,STR:e}),Object(K.jsx)(mt,{onSubmit:function(e){var s,i;a.email&&a.password&&(e.preventDefault(),t((s=a.email,i=a.password,e=>{e({type:k}),h.signUpWithEmail(s,i).then((t=>e(Fe(t)))).catch((t=>e(Ve(t.message)))).finally((()=>e({type:w})))})))},onChange:l,data:a,STR:e})]}),Object(K.jsx)(Ot,{onSignInWithGoogle:function(){t((e=>{e({type:k}),h.signInWithGoogle().then((t=>e(Fe(t)))).catch((t=>e(Ve(t.message)))).finally((()=>e({type:w})))}))},STR:e})]}):null},bt=()=>{const e=Object(c.b)(),{message:t,type:s}=Object(c.c)(_e),i=!!t;return Object(K.jsx)(Ie,{isVisible:i,type:s,message:t,onCloseClick:function(){e({type:L})}})};s(80);const ht=({children:e})=>Object(K.jsxs)("div",{className:"container",children:[Object(K.jsx)(we,{}),Object(K.jsx)(Ue,{}),Object(K.jsx)(ke,{children:e})]});ht.defaultProps={children:null};const _t=()=>Object(K.jsx)(ht,{children:Object(K.jsx)(Je,{})});var pt=()=>{const e=Object(c.c)(re),t=Object(c.c)(le),s=Object(c.c)(Oe);document.documentElement.setAttribute("data-theme",s);const i=Object(c.b)();return Object(ie.useEffect)((()=>{t&&(i((e=>t=>{t({type:k}),h.getItems(e).then((e=>{const s=[];e.forEach((e=>s.push(e.data()))),t({type:S,payload:s})})).catch((e=>t(Me(e.message)))).finally((()=>t({type:w})))})(e)),i((e=>t=>{t({type:k}),h.getSettings(e).then((e=>{e.data()&&t({type:y,payload:e.data()})})).catch((e=>t(Be(e.message)))).finally((()=>t({type:w})))})(e)))}),[t]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Re.a,{children:Object(K.jsx)(_t,{})}),Object(K.jsx)(jt,{}),Object(K.jsx)(bt,{})]})};a.a.render(Object(K.jsx)(c.a,{store:J,children:Object(K.jsx)(Ae,{children:Object(K.jsx)(fe,{children:Object(K.jsx)(pt,{})})})}),document.getElementById("root"))}]),[[81,1,2]]]);
//# sourceMappingURL=main.8a26c843.chunk.js.map